# 验证syscall的socket不可用之后，导致localworker消息发送EOF

1. 当时syscal调底层dll库，底层崩了，导致syscal也假死了。syscall假死会导致服务不可用。
2. 我们就在localwork端做了个简单的服务治理，当socket消息不可达时，主动kill掉对方的进程，让对方重启之后，重新连上socket
3. 做完这个服务之后，就要试试呀。最先想到的是让syscall重现假死，来测试自己写的逻辑。可是这条路真的是个黑洞，尝试了挺多方法，比如提供会主动崩的底层库，或者在syscall里合适的位置主动Panic但是这些办法都收效甚微。
4. 最后灵机一动，我为啥不直接在localserver这边发消息时，主动返回err呢？哈哈，简直是个天才。socket发消息错误，既可能是发送端错误，也可能是接收端出错，所以与其一直就解接收端，不如直接改下发送端。
5. 以后碰到这种事，还是要多动脑～～～～～